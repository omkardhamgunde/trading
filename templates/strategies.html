{% extends 'base.html' %}

{% block content %}
<h2>Your Strategies</h2>

<form method="post" action="/upload_strategy" enctype="multipart/form-data">
    <input type="file" name="strategy_file" required>
    <button type="submit" class="btn btn-primary">Upload Strategy</button>
</form>

<table class="table">
    <thead>
        <tr>
            <th>Name</th>
            <th>Symbol</th>
            <th>Type</th>
            <th>Status</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody>
        {% for strat in strategies %}
        <tr>
            <td>{{ strat[1] }}</td>
            <td>{{ strat[2] }}</td>
            <td>{{ strat[3] }}</td>
            <td>{{ 'Active' if strat[4] else 'Inactive' }}</td>
            <td>
                <a href="/toggle_strategy/{{ strat[0] }}" class="btn btn-warning">
                    {{ 'Deactivate' if strat[4] else 'Activate' }}
                </a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}